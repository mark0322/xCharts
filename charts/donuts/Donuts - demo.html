<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Donuts</title>
  <style type="text/css">
    html,
    body {
      width: 100%;
      height: 100%;
    }
    #container {
      width: 95%;
      height: 95%;
      background: #eee;
    }

  </style>
</head>

<body>
  <div id="container">
  </div>
</body>
<script src="../__gather__/d3.js"></script>
<script src="../__gather__/fns.js"></script>
<script src="../__gather__/charts.js"></script>
<script type="text/javascript">
const options = {
  data1: [
      {name: '待通报', val: 487, color: 'red'},
      {name: '已通报', val: 386, color: '#122645'},
      {name: '处置中', val: 108, color: '#122645'},
      {name: '已整改', val: 815, color: '#1b5b6c'}
  ],
  data2: [
      {name: '待通报', val: 1487, color: 'red'},
      {name: '已通报', val: 3386, color: '#122645'},
      {name: '处置中', val: 1108, color: '#122645'},
      {name: '已整改', val: 6815, color: '#1b5b6c'}
  ],

}

const donuts = new Donuts({
  container: document.querySelector('#container'),
  // data: options.data1,
  nameDy: '1em',
  nameFontSize: 16,
  donutWidth: 15
})

donuts.render(options.data1)


setTimeout(function() {
  donuts.update(options.data2)
}, 2000)



</script>